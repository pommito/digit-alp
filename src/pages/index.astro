---
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';

import Layout from '../layouts/Layout.astro';
import Button from '@/components/ui/Button.astro';
import ServiceItem from '@/components/ServiceItem.astro';
import FeaturedWorks from '@/components/FeaturedWorks.astro';
import ctaBannerIcon from '@/assets/cta_banner_icon.svg';


const expertises = await getCollection('expertises');
const featuredWorks = await getCollection('works', entry => entry.data.isFeatured);
const clients = await getCollection('works')

// TODO : change logos and maybe add a link to the linked project


---

<Layout title='Digit Alp'>
	<div class="h-[75dvh] bg-da-black text-da-white"> 
		<div class="container w-full h-full flex flex-col justify-end items-center mx-auto py-20">
			<div class="flex flex-col items-center">
				<div class="flex items-center gap-2 py-2 px-4 border border-da-white rounded-full w-fit">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class=""><path d="M15 22a1 1 0 0 1-1-1v-4a1 1 0 0 1 .445-.832l3-2a1 1 0 0 1 1.11 0l3 2A1 1 0 0 1 22 17v4a1 1 0 0 1-1 1z"/><path d="M18 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 .601.2"/><path d="M18 22v-3"/><circle cx="10" cy="10" r="3"/></svg>
					Grenoble, Chambéry, Lyon
				</div>
				<h1 class="opacity-0">Agence Web à Chambery</h1>
				<h2 class="text-3xl text-center md:w-6xl md:text-6xl xl:text-7xl">Ensemble construisons des sites performants et éco-concus</h2>
			</div>
			<div class="flex justify-between items-end w-full">
				<p class="md:w-lg pt-80 xl:text-xl xl:w-2xl">Micro agence web à Chambéry, nous vous accompagnons dans tous vos projets. Création, optimisation, sécurisation : ensemble développons des solutions digitales impactantes pour votre activité.</p>
				<Button label="J'ai un projet !" link='/contact' style="secondary" />
			</div>
		</div>
	</div>

	<section class="container mx-auto w-full  px-4 py-20 space-y-6">
		<h2 class="hidden">Agence web savoyarde</h2>
		<div class="grid grid-cols-1 gap-4 mb-10 md:grid-cols-2 md:gap-0">
      <h3 class="text-4xl md:text-5xl">Une agence web aux multiples casquettes</h3>
      <p class="text-xl text-balance">Digit'Alp propose des services complémentaires pour vous accompagner dans la création ou le développement de votre présence digitale. Nous proposons des solutions sur mesure et performantes avec un regard vers l'avenir et l'éco-conception.</p>
  	</div>
		<ul class="grid grid-cols-1 gap-4 container mx-auto md:grid-cols-2">
			{expertises.map ( expertise => (
				<ServiceItem expertise={expertise} />
			))}
		</ul>
	</section>

	<FeaturedWorks featuredWorks={featuredWorks} title="Nos projets" subTitle="Nos clients, des projets uniques" client:visible />

	<section class="bg-da text-da-white">
		<div class="container flex flex-col items-center justify-center mx-auto w-full py-20 px-4">
			<h2 class="text-base text-da-300 leading-none uppercase ">Méthode de travail</h2>
			<p class="text-4xl text-center mb-4 font-title md:text-6xl">Une construction <em class="font-title">tech</em>, un regard <em class="font-title">design</em> et une réflexion <em class="font-title">marketing</em> pour chacun de nos clients.</p>
			<Button label="En savoir plus" link='/a-propos' style="secondary" />
		</div>
	</section>

	<section class="container mx-auto w-full px-4 py-20">
		<h3 class="text-4xl md:text-5xl mb-10">Ils nous font confiance <br/> pour leur projet web</h3>
		<ul class="grid grid-cols-2 gap-2 md:grid-cols-5 px-6">
			{clients.map ( client => (
				<li class="w-full flex items-center justify-center col-span-1 bg-neutral-50">
					<Image src={client.data.logo} alt={`Logo ${client.data.client}`} class="" />
				</li>
			))}
		</ul>
	</section>

	<section class="bg-da-black text-da-white">
		<div class="container flex flex-col items-center justify-center mx-auto w-full  px-4 py-20">
			<h3 class="text-4xl md:text-6xl mb-10">Alors pourquoi pas vous ?</h3>
			<div class="flex gap-20 max-w-3xl">
				<Image src={ctaBannerIcon} alt="Icone de prise de rendez-vous"/>
				<div class="space-y-4">
					<p class="text-lg">
						Chaque projet est un nouveau défi pour notre équipe : repenser votre site Internet, améliorer votre visibilité sur les moteurs de recherche, développer une solutions pour votre activité... Discutons-en !
					</p>
					<Button label="Prendre rendez-vous" link='/contact' style="primary" />
				</div>
			</div>
		</div>
	</section>

</Layout>
